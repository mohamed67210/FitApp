<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>{% block title %}Welcome!{% endblock %}</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {# css #}
    <link rel="stylesheet" href="{{asset('assets/css/style.css')}}">
    {# hamburger menu #}
    <link rel="stylesheet" href="{{asset('assets/css/hamburger.css')}}">
    {# fontawesome #}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    {% block stylesheets %}{% endblock %}

</head>

<body>
    {% block nav %}
    <nav>
        <div id="left">
            <div class="logo_container">
                <a href="{{ path('app_home') }}">
                    <img src="{{ asset('assets/images/logo/logo.png') }}" alt="logo" class="logo">
                </a>
            </div>
        </div>
        {% if app.user %}
        {% if is_granted('ROLE_ADMIN') or is_granted('ROLE_COACH') %}
        <div id="middle">
            <div id='menu_user'>
                <img src="{{  asset('assets/images/user/'~ app.user.image ~'')  }}" alt="{{app.user}}">
                <i class="fa-solid fa-caret-down"></i>
            </div>
            <ul id="user_links">
                {% if is_granted('ROLE_ADMIN') %}
                    <li><a href="{{ path('add_programme') }}"> Membres</a></li>
                    <li><a href="{{ path('add_programme') }}"> Coachs</a></li>
                    <li><a href="{{ path('add_programme') }}"> Programmes a valider</a></li>
                    {% else %}<li><a href="{{ path('add_programme') }}"> + Nouveau Programme</a></li>
                {% endif %}
            </ul>
        </div>
        {% endif %}
        {% endif %}

    
        <div id="right">
            <button id="hamburger" class="hamburger--spin" type="button">
                <span class="hamburger-box">
                    <span class="hamburger-inner"></span>
                </span>
            </button>
            <div id="nav-links">
                <ul>
                    <li><a href="{{ path('app_home') }}">Accueil</a> </li>
                    <li><a href="{{ path('show_coachs') }}">Coachs</a> </li>
                    <li><a href="{{ path('show_programmes')}}">Programmes</a> </li>
                    {# si il y'a un user connecté #}
                    {% if app.user %}
                    {# si le compte connecté est validé #}
                    {% if app.user.isVerified %}
                    <li><a href="{{ path('show_profile')}}">{{app.user}}</a></li>
                    <li><a href="{{ path('app_logout') }}">Déconnexion</a></li>
                    <li>
                        <a href="{{ path('delete_compte') }}">Supprimer Compte</a>
                    </li>
                    {# si le compte n'est pas valider #}
                    {% else %}<li><a href="{{ path('app_logout') }}">Déconnexion</a> </li>

                    {# fin de if app.user.isverified #}
                    {% endif %}



                    {% else %}
                    <li><a href="{{ path('app_login') }}">Connexion</a> </li>
                    <li><a href="{{ path('app_register') }}">Inscription</a> </li>
                    {# fin de if app.user #}
                    {% endif %}


                </ul>
            </div>
        </div>

    </nav>
    {% endblock nav %}
    {% block body %}{% endblock %}
    {# {% block footer %}
    <footer>
        <a href="">Mentions légale</a>
        <a href="">Conditions générales de vente</a>
        <a href="">© 2022 By Mohamed</a>
    </footer>
    {% endblock footer %} #}

    {% block javascripts %}
    <script src="https://unpkg.com/scrollreveal"></script>
    <script src="{{asset('assets/js/script.js')}}"></script>

    {% endblock %}
</body>

</html>