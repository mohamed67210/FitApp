{% extends 'base.html.twig' %}

{% block title %}Categories{% endblock %}

{% block body %}
<main class="container">
    {% if categorie.programmes is not empty %}
    <section class="splide" aria-label="Splide Basic HTML Example">
        <h2>Les programmes de la categorie <span>{{categorie.intitule|upper}}</span></h2>
        <div class="splide__track">
              <ul class="splide__list">
                {% for programme in categorie.programmes %}
                <div class="splide__slide">
                    <div class="card-swiper">
                        <img src="{{ asset('assets/images/programmes/'~ programme.image ~'') }}"
                            alt="{{programme.intitule}}">
                        <div class="card-body">
                            <h4>{{programme.intitule|split(' ')|slice(0, 4)|join(' ')~ '...'}}</h4>
                            <span><a href="{{path('categorie_programmes', { 'id': programme.categorie.id })}}">{{programme.categorie}}</a> </span>
                            <p>Créateur : {{programme.coach}}</p>
                            <div class="programme_contenu_prix">
                                {% if programme.prixPromo is defined and programme.prixPromo is not null %}
                                <span class="prix"><del>{{programme.prix|striptags|number_format(2, ',', '.')}} €</del></span>
                                <span class="prix">{{programme.prixPromo|striptags|number_format(2, ',', '.')}} €</span>
                                {% else %}
                                <span class="prix">{{programme.prix|number_format(2, ',', '.')}} €</span>
                                {% endif %}
                            </div>
                        </div>
                        <a href="{{path('show_programme',{'id':programme.id})}}" class="btn">S'inscrire</a>
                    </div>
                </div>
                {% endfor %}
              </ul>
        </div>
    </section>
    {% else %}<div><p>Désolé pour le moment il n'ya pas encore de programme pour cette catégorie</p></div>
    {% endif %}
    

</main>

{% endblock %}